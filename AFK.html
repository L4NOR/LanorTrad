<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mode AFK - LanorTrad</title>
    <link rel="icon" href="https://www.creativefabrica.com/wp-content/uploads/2019/03/Monogram-LT-Logo-Design-by-Greenlines-Studios-580x387.jpg">

    <!-- MetaTags pour la page AFK -->
    <meta name="monetag" content="fc460e4f9414f6b44fed923ed5037fda">
    <meta name="description" content="Système AFK de LanorTrad - Générez des revenus publicitaires automatiquement pendant votre absence. Une solution innovante pour optimiser votre temps sur notre plateforme.">
    <meta name="keywords" content="LanorTrad AFK, revenus publicitaires, génération automatique, système AFK, mode AFK">
    <meta name="author" content="LanorTrad">
    <meta name="robots" content="index, follow">
    <meta name="language" content="French">

    <!-- Open Graph (Facebook, Discord) -->
    <meta property="og:site_name" content="LanorTrad">
    <meta property="og:title" content="LanorTrad AFK - Système de Génération Automatique">
    <meta property="og:description" content="Découvrez notre système AFK qui vous permet de générer des revenus publicitaires automatiquement. Une fonction exclusive LanorTrad.">
    <meta property="og:type" content="website"> 
    <meta property="og:locale" content="fr_FR">
    <meta property="og:image" content="images/Lanor/Banner.jpg">
    <meta property="og:url" content="https://lanortrad.netlify.app/AFK.html">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@LanorTrad">
    <meta name="twitter:title" content="Mode AFK - LanorTrad">
    <meta name="twitter:description" content="Générez des revenus automatiquement avec le système AFK de LanorTrad. Une solution intelligente pour optimiser votre temps.">
    <meta name="twitter:image" content="../../images/Lanor/Banner.jpg">

    <!-- Autres balises-->
    <meta name="theme-color" content="#1E293B">
    <link rel="alternate" type="application/json+oembed" href="https://discord.gg/md37S7nhkZ">

    <!--Styles-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/afk.css">
    <link rel="stylesheet" href="css/intros.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .card {
            background: #2D3748;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .discord-button {
            background-color: #5865F2;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .discord-button:hover {
            background-color: #4752C4;
        }

        .ad-container {
            background: #374151;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            transition: transform 0.3s;
        }

        .ad-container:hover {
            transform: scale(1.02);
        }

        .points-display {
            font-size: 2rem;
            font-weight: bold;
            color: #10B981;
        }
    </style>

    <!--Scripts-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MZGH30P4J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-2MZGH30P4J');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1999829370171408" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@oauth2/discord@1.0.0/dist/index.umd.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-messaging-compat.js"></script>
</head>
<body>
    <!-- Écran de chargement -->
    <div class="loading-container" id="loadingScreen">
        <div class="background-animation">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        <div class="loading-content">
            <div class="logo">LanorTrad</div>
            <div class="loading-bar"></div>
            <div class="loading-text">Mode AFK en cours d'activation...</div>
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Section connexion -->
            <div id="login" class="card text-center mb-8">
                <h2 class="text-2xl font-bold mb-4">Mode AFK LanorTrad</h2>
                <p class="text-gray-400 mb-6">Connectez-vous avec Discord pour commencer à gagner des points</p>
                <button onclick="loginWithDiscord()" class="discord-button">
                    <i class="fab fa-discord mr-2"></i> Se connecter avec Discord
                </button>
            </div>

            <!-- Info utilisateur -->
            <div id="user-info" class="card text-center mb-8" style="display: none;">
                <div class="flex items-center justify-center mb-4">
                    <img id="user-avatar" class="w-16 h-16 rounded-full mr-4" src="" alt="Avatar">
                    <div>
                        <h3 class="text-xl font-bold">Bienvenue, <span id="username"></span>!</h3>
                        <div class="points-display">
                            <span id="points">0</span> points
                        </div>
                    </div>
                </div>
            </div>

            <!-- Conteneur des publicités -->
            <div id="ads" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Les publicités seront générées dynamiquement -->
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const CLIENT_ID = '1325706433815117906';
        const REDIRECT_URI = 'https://lanortrad.netlify.app/afk.html';
        
        // Gestion du chargement
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
            }, 2000);
        });

        // Système de points et publicités
        class PointSystem {
            constructor() {
                this.points = 0;
                this.isAuthenticated = false;
                this.userData = null;
                this.ads = [
                    { id: 1, points: 5, name: "Publicité Bronze", description: "Regardez une courte publicité" },
                    { id: 2, points: 10, name: "Publicité Argent", description: "Publicité de durée moyenne" },
                    { id: 3, points: 15, name: "Publicité Or", description: "Publicité premium" }
                ];
                this.initializeAuth();
                this.renderAds();
            }

            async initializeAuth() {
                const params = new URLSearchParams(window.location.search);
                const code = params.get('code');

                if (code) {
                    try {
                        // Ici, vous devriez échanger le code contre un token
                        // Cela nécessite un backend pour sécuriser le client_secret
                        this.isAuthenticated = true;
                        await this.fetchUserData();
                    } catch (error) {
                        console.error('Erreur d\'authentification:', error);
                    }
                }
            }

            async fetchUserData() {
                // Cette partie nécessite un backend pour l'échange sécurisé du token
                // Pour l'exemple, on simule une connexion réussie
                document.getElementById('login').style.display = 'none';
                document.getElementById('user-info').style.display = 'block';
            }

            renderAds() {
                const container = document.getElementById('ads');
                container.innerHTML = this.ads.map(ad => `
                    <div class="ad-container">
                        <h3 class="text-xl font-bold mb-2">${ad.name}</h3>
                        <p class="text-gray-400 mb-4">${ad.description}</p>
                        <div class="text-2xl font-bold text-green-500 mb-4">+${ad.points} points</div>
                        <button onclick="pointSystem.addPoints(${ad.id})" 
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition">
                            Regarder la publicité
                        </button>
                    </div>
                `).join('');
            }

            addPoints(adId) {
                if (!this.isAuthenticated) {
                    alert("Veuillez vous connecter avec Discord d'abord !");
                    return;
                }

                const ad = this.ads.find(a => a.id === adId);
                if (ad) {
                    this.points += ad.points;
                    this.updatePointsDisplay();
                    // Ici, vous devriez synchroniser avec votre backend
                }
            }

            updatePointsDisplay() {
                document.getElementById('points').textContent = this.points;
            }
        }

        function loginWithDiscord() {
            const authUrl = `https://discord.com/oauth2/authorize?client_id=1325706433815117906&response_type=code&redirect_uri=https%3A%2F%2Flanortrad.netlify.app%2Fafk.html&scope=identify`;
            window.location.href = authUrl;
        }

        // Initialisation
        const pointSystem = new PointSystem();
    </script>

    </body>
</html>
